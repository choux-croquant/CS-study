## [가상 메모리 #1](https://core.ewha.ac.kr/publicview/C0101020140509142939477563?vmode=f)

### Demand Paging

- 실제로 필요한 때 page를 메모리에 올리는 방법을 의미
  - I/O양이 상당 부분 감소
  - Memory사용량 감소
  - 빠른 응답 시간
  - 더 많은 사용자 수용(멀티 프로그래밍 환경)
- Valid/Invalid bit의 사용
  - Invalid - 사용되지 않는 주소 영역이거나, 페이가 물리적 메모리에 없는 경우
  - 처음에는 모든 page entry가 Invalid로 초기화된다.
  - address translation시 Invalid bit가 설정되어 있다면 > page fault(요청한 페이지가 메모리에 없는 경우)

### Page Fault

- Invalid page접근 시 MMU가 trap을 발생시킨다.(page fault trap)

- Kernel mode로 들어가서 page fault handler가 invoke된다.

- 다음의 루틴으로 page fault를 처리한다.

  - Invalid reference? (bad address, protection violation ...) > abort process
  - Get an empty page frame (빈 프레임이 없다면 뺏어옴 - replace)
  - 해당 페이지를 디스크에서 메모리로 읽어온다.
    - Disk I/O가 끝나기까지 이 프로세스는 CPU를 preempt당한다.(block)
    - Disk read가 끝나면 page tables entry기록, valid bit = "valid"
    - Ready queue에 process를 insert > dispatch later
  - 프로세스가 CPU를 잡고 다시 running
  - 아까 중단되었던 instruction을 재개한다.

  ![Page Fault Handling in Operating System - javatpoint](https://static.javatpoint.com/operating-system/images/page-fault-handling-in-operating-system.png)

- Performance of Demand Paging

  - Page fault가 일어나는 비율에 따라 효율이 좌우된다..
  - Page fault rate - 0 <= p <= 1.0
  - 0이면 page fault가 없고, 1이면 모든 참조가 fault인 상태
  - 일반적으로 page fault rate은 매우 낮음
  - Effective Access Time
    - EAT = (1 - p) * memory access + p(OS & HW page fault overhead + [swap page out if needed] + swap page in + OS & HW restart overhead)
    - fault가 일어날 때마다 OS & HW에서 처리하는 오버헤드와 swap작업 등 엄청난 시간이 소요

### Optimal Algorithm

- 

### FIFO(First In First Out) Algorithm

- 

### LRU(Least Recently Used) Algorithm

- 

### LFU(Least Frequently Used) Algorithm

- 

### LRU와 LFU 알고리즘의 예제 및 구현

- 

## [가상 메모리 #2](https://core.ewha.ac.kr/publicview/C0101020140513133424380501?vmode=f)

### 다양한 캐슁 환경

- 

### Clock Algorithm

- 

### Page Frame의 Allocation

- 

### Global vs. Local Replacement

- 

### Thrashing

- 

### Working-Set Model

- 

### Working-Set Algorithm

- 

### PFF(Page-Fault Frequency) Scheme

- 

### Page Size의 결정

-